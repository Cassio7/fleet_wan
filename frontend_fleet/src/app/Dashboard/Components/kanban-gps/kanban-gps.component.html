<div class="container">
  <h2 class="title">Stato GPS</h2>
  <p class="subtitle">Monitora lo stato dei GPS</p>
  <div class="columns">
    <!-- Working Column -->
    <div class="working-col">
      <div class="header">
        <div class="OK-container">
          <mat-icon class="gpsIcon-OK">location_on</mat-icon>
          OK
        </div>
        <span class="nMezzi">{{ kanbanGpsService.workingItems.length }}</span>
      </div>
      <mat-progress-bar mode="determinate" [value]="kanbanGpsService.workingItems.length" class="progress-bar"></mat-progress-bar>
      <mat-form-field appearance="fill">
        <mat-label>Add Item</mat-label>
        <input matInput [(ngModel)]="kanbanGpsService.newWorkingItem" /> <!-- Ensure matInput is added here -->
      </mat-form-field>
      <button mat-raised-button color="primary" (click)="addItem('working')">Add</button>
      <mat-list>
        <mat-list-item *ngFor="let item of kanbanGpsService.workingItems">
          {{ item }}
          <button mat-icon-button color="warn" (click)="removeItem('working', item)">
            <mat-icon>delete</mat-icon>
          </button>
        </mat-list-item>
      </mat-list>
    </div>

    <!-- Warning Column -->
    <div class="warning-col">
      <div class="header">
        <div class="warning-container">
          <mat-icon class="gpsIcon-warning">location_on</mat-icon>
          Warning
        </div>
        <span class="nMezzi">{{ kanbanGpsService.warningItems.length }}</span>
      </div>
      <mat-progress-bar mode="determinate" [value]="kanbanGpsService.warningItems.length" class="progress-bar"></mat-progress-bar>
      <mat-form-field appearance="fill">
        <mat-label>Add Item</mat-label>
        <input matInput [(ngModel)]="kanbanGpsService.newWarningItem" /> <!-- Ensure matInput is added here -->
      </mat-form-field>
      <button mat-raised-button color="accent" (click)="addItem('warning')">Add</button>
      <mat-list>
        <mat-list-item *ngFor="let item of kanbanGpsService.warningItems">
          {{ item }}
          <button mat-icon-button color="warn" (click)="removeItem('warning', item)">
            <mat-icon>delete</mat-icon>
          </button>
        </mat-list-item>
      </mat-list>
    </div>

    <!-- Error Column -->
    <div class="error-col">
      <div class="header">
        <div class="error-container">
          <mat-icon class="errorIcon-error">wifi</mat-icon>
          Error
        </div>
        <span class="nMezzi">{{ kanbanGpsService.errorItems.length }}</span>
      </div>
      <mat-progress-bar mode="determinate" [value]="kanbanGpsService.errorItems.length" class="progress-bar"></mat-progress-bar>
      <mat-form-field appearance="fill">
        <mat-label>Add Item</mat-label>
        <input matInput [(ngModel)]="kanbanGpsService.newErrorItem" /> <!-- Ensure matInput is added here -->
      </mat-form-field>
      <button mat-raised-button color="warn" (click)="addItem('error')">Add</button>
      <mat-list>
        <mat-list-item *ngFor="let item of kanbanGpsService.errorItems">
          {{ item }}
          <button mat-icon-button color="warn" (click)="removeItem('error', item)">
            <mat-icon>delete</mat-icon>
          </button>
        </mat-list-item>
      </mat-list>
    </div>
  </div>
</div>
